server:
  port: ${SERVER_PORT}

# database setting
spring:
  sql:
    init:
      mode: always
      data-locations: classpath:data.sql
      continue-on-error: false  # false로 변경해서 오류 확인
      separator: ";"
      encoding: UTF-8

  task:
    scheduling:
      pool:
        size: 5
      thread-name-prefix: meeting-scheduler-



  datasource:
    url: jdbc:mariadb://localhost:3306/banthing
    username: root
    password: mariadb
    driver-class-name: org.mariadb.jdbc.Driver

  jpa:
    defer-datasource-initialization: true

    # DBMS dialect setting
    database-platform: org.hibernate.dialect.MariaDB106Dialect
    hibernate:
      # ddl
      ddl-auto: create-drop
    properties:
      hibernate:
        format_sql: true # SQL log
    database: mysql

  security:
    oauth2:
      client:
        registration:
          kakao:
            client-id: ${KAKAO_CLIENT_ID}
            client-secret: ${KAKAO_CLIENT_SECRET}
            client-authentication-method: client_secret_post
            authorization-grant-type: authorization_code
            scope: [ profile_nickname, profile_image ]
            redirect-uri: 'http://localhost:9000/login/oauth2/code/kakao'
        provider:
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id

# log level setting
logging:
  level:
    root: info
    com.nathing.banthing: debug
    org.hibernate.SQL: debug
    org.springframework.jdbc.datasource.init: debug  # SQL 초기화 로그 추가

# 공통 설정
jwt:
  secret: ${JWT_SECRET}
  access-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION}
  refresh-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION}

cookie:
  domain: localhost
  secure: false
  http-only: true
  same-site: Lax
  access-token-name: ACCESS_TOKEN
  refresh-token-name: REFRESH_TOKEN
  access-max-age: ${COOKIE_ACCESS_TOKEN_MAX_AGE}
  refresh-max-age: ${COOKIE_REFRESH_TOKEN_MAX_AGE}

app:
  oauth2-success-redirect-url: http://localhost:5173/popup-close
  oauth2-failure-redirect-url: http://localhost:5173/popup-close?from=oauth2

# ===== Google AI (Gemini) 설정 추가 =====
google:
  ai:
    api-key: ${GOOGLE_AI_API_KEY}
    model: ${GOOGLE_AI_MODEL:gemini-1.5-flash}
    temperature: ${GOOGLE_AI_TEMPERATURE:0.7}
    max-tokens: ${GOOGLE_AI_MAX_TOKENS:1000}

